{"version":3,"file":"main-C5-X21E9.js","sources":["../../src/js/pixabay-api.js","../../src/js/render-functions.js","../../src/main.js"],"sourcesContent":["const API_KEY = '48154537-527b84123da1832c7b7680c8e';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query, page = 1, perPage = 9) {\n    const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n    \n    return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Failed to fetch images');\n            }\n            return response.json();\n        })\n        .then(data => data.hits) // Повертає масив зображень\n        .catch(error => {\n            console.error(error);\n            throw new Error('Something went wrong!');\n        });\n}\n","import iziToast from 'izitoast';\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function renderImages(images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = ''; // Очищаємо галерею перед новим пошуком\n\n    if (images.length === 0) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n    }\n\n    const imageMarkup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <a href=\"${largeImageURL}\" class=\"gallery-item\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" />\n            <div class=\"info\">\n                <p><strong>Likes:</strong> <br> ${likes}</p>\n                <p><strong>Views:</strong> <br> ${views}</p>\n                <p><strong>Comments:</strong> <br> ${comments}</p>\n                <p><strong>Downloads:</strong> <br> ${downloads}</p>\n            </div>\n        </a>\n    `).join('');\n\n    gallery.insertAdjacentHTML('beforeend', imageMarkup);\n}\n\nexport function showLoadingIndicator() {\n    const loader = document.querySelector('.loader');\n    loader.classList.add('visible');\n}\n\nexport function hideLoadingIndicator() {\n    const loader = document.querySelector('.loader');\n    loader.classList.remove('visible');\n}","// main.js\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, showLoadingIndicator, hideLoadingIndicator } from './js/render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const searchButton = document.querySelector('#search-button');\n    const searchInput = document.querySelector('#search-input');\n\n    // Перевірка, чи елементи існують перед додаванням слухачів\n    if (!searchButton || !searchInput) {\n        console.error('Elements not found');\n        return;\n    }\n\n    // Ініціалізація SimpleLightbox\n    let lightbox = new SimpleLightbox('.gallery a');\n\n    searchButton.addEventListener('click', function () {\n        const query = searchInput.value.trim();\n        if (query === '') {\n            iziToast.warning({\n                title: 'Warning',\n                message: 'Please enter a search query.',\n            });\n            return;\n        }\n\n        // Показуємо індикатор завантаження\n        showLoadingIndicator();\n\n        fetchImages(query)\n            .then(images => {\n                // Приховуємо індикатор завантаження\n                hideLoadingIndicator();\n\n                // Відображаємо отримані зображення\n                renderImages(images);\n\n                // Оновлюємо SimpleLightbox після додавання нових зображень\n                lightbox.refresh();\n            })\n            .catch(error => {\n                // Приховуємо індикатор завантаження у разі помилки\n                hideLoadingIndicator();\n                iziToast.error({\n                    title: 'Error',\n                    message: error.message,\n                });\n            });\n    });\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","response","data","error","renderImages","images","gallery","iziToast","imageMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showLoadingIndicator","hideLoadingIndicator","searchButton","searchInput","lightbox","SimpleLightbox"],"mappings":"svBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,EAAG,CACtD,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAMG,CAAK,2DAEjD,OAAO,MAAMG,CAAG,EACX,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,wBAAwB,EAE5C,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,GAAS,CACZ,cAAQ,MAAMA,CAAK,EACb,IAAI,MAAM,uBAAuB,CACnD,CAAS,CACT,CCfO,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAGjD,GAFAA,EAAQ,UAAY,GAEhBD,EAAO,SAAW,EAAG,CACrBE,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACrB,CAAS,EACD,MACH,CAED,MAAMC,EAAcH,EAAO,IAAI,CAAC,CAAE,aAAAI,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA,mBAC9FL,CAAa;AAAA,wBACRD,CAAY,UAAUE,CAAI;AAAA;AAAA,kDAEAC,CAAK;AAAA,kDACLC,CAAK;AAAA,qDACFC,CAAQ;AAAA,sDACPC,CAAS;AAAA;AAAA;AAAA,KAG1D,EAAE,KAAK,EAAE,EAEVT,EAAQ,mBAAmB,YAAaE,CAAW,CACvD,CAEO,SAASQ,GAAuB,CACpB,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,SAAS,CAClC,CAEO,SAASC,GAAuB,CACpB,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,SAAS,CACrC,CChCA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAc,SAAS,cAAc,eAAe,EAG1D,GAAI,CAACD,GAAgB,CAACC,EAAa,CAC/B,QAAQ,MAAM,oBAAoB,EAClC,MACH,CAGD,IAAIC,EAAW,IAAIC,EAAe,YAAY,EAE9CH,EAAa,iBAAiB,QAAS,UAAY,CAC/C,MAAMrB,EAAQsB,EAAY,MAAM,KAAI,EACpC,GAAItB,IAAU,GAAI,CACd,SAAS,QAAQ,CACb,MAAO,UACP,QAAS,8BACzB,CAAa,EACD,MACH,CAGDmB,IAEApB,EAAYC,CAAK,EACZ,KAAKQ,GAAU,CAEZY,IAGAb,EAAaC,CAAM,EAGnBe,EAAS,QAAO,CAChC,CAAa,EACA,MAAMjB,GAAS,CAEZc,IACA,SAAS,MAAM,CACX,MAAO,QACP,QAASd,EAAM,OACnC,CAAiB,CACjB,CAAa,CACb,CAAK,CACL,CAAC"}